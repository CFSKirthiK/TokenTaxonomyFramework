{
  "artifact": {
    "artifactSymbol": {
      "id":"a8992e09-8e92-4ee8-bb17-88f9972a5965",
      "type": "BEHAVIOR",
      "visual": "<i>o</i>",
      "tooling": "o",
      "version": "1.0",
      "templateValidated": false
    },
    "name": "Grantable",
    "aliases": [
      "Vestable"
    ],
    "artifactDefinition": {
      "businessDescription": "Grantable represents 'potential' ownership of a token when granted to a user. A grantable token is 'granted' to an account, but the account isn't the owner or free to spend or transfer the granted token. The account will become the owner or be able to spend or redeem the token when the grant vests. A grant that is vested is transformed in some way, usually allowing the owner to redeem or use the token itself. A token class that implements this behavior will support grant settings to define the rules for vesting of the grant. Grant settings include a vesting schedule and vest actions for setting when a vest can occur and what happens when it vests. Vesting can have a date when it is able to vest, but is not automatic, it must be invoked. Simple vests will remove a transferable/burnable restriction so that the token can be redeemed. More complex vesting can spawn new tokens with issuance being sent to multiple parties. Ideally, a token that is grantable, will initialize the grant with the token is created.",
      "businessExample": "A grantable token can be granted to an account with a simple date based vest.  The vest can be a single date or on a schedule spanning years. A 5 year grant would vest 20% of the grant every calendar year from the initial grant date. The vest event can also be a simple 'unlocking' of the token so the grantee can use it or more complex like splitting percentages into multiple other tokens.",
      "analogies": [
        {
          "name": "Stock Grant",
          "description": "Stock grants are a great example of what a Token Grant can be.  But a Token Grant can do so much more. Stock grants have a grant amount and a schedule.  The vest transfers ownership of the stock from the grantor to the grantee.",
          "artifactDefinition": null
        }
      ],
      "comments": "",
      "artifact": null
    },
    "dependencies": [],
    "incompatibleWithSymbols": [],
    "influencedBySymbols": [
      {
        "description": "Highly recommended that Role restrictions be applied to Pause and Resume invocations.",
        "symbol": {
          "type": "BEHAVIOR",
          "visual": "<i>r</i>",
          "tooling": "r",
          "version": ""
        }
      }
    ],
    "artifactFiles": [
      {
        "content": "CONTROL",
        "fileName": "grantable.proto",
        "fileData": "",
        "artifact": null
      },
      {
        "content": "UML",
        "fileName": "grantable.md",
        "fileData": "",
        "artifact": null
      }
    ],
    "maps": {}
  },
  "invocations": [
    {
      "id": "f404f43f-c922-475d-9a0c-b4a0bdca6029",
      "name": "Grant",
      "description": "A request to grant a certain number of tokens to an account.",
      "request": {
        "controlMessageName": "GrantToRequest",
        "description": "The request to Attest an attestation.",
        "inputParameters": [
          {
            "name": "AccountId",
            "valueDescription": "The account to grant to."
          },
          {
            "name": "Amount",
            "valueDescription": "Quanity of Tokens to grant."
          }
        ]
      },
      "response": {
        "controlMessageName": "GrantToResponse",
        "outputParameters": [
          {
            "name": "Confirmation",
            "valueDescription": "A true or false result"
          }
        ],
        "description": "The response from the AttestRequest."
      }
    },
    {
      "id": "c573dc98-d669-4e24-a06d-70a7c1d29078",
      "name": "AdjustGrant",
      "description": "A request to validate a rule or attestation.",
      "request": {
        "controlMessageName": "AdjustGrantRequest",
        "description": "The request to Attest by an account id.",
        "inputParameters": [
          {
            "name": "AccountId",
            "valueDescription": "The Id of the account to validate."
          }
        ]
      },
      "response": {
        "controlMessageName": "AdjustGrantResponse",
        "outputParameters": [
          {
            "name": "Confirmation",
            "valueDescription": "A true or false result"
          },
          {
            "name": "Attestation",
            "valueDescription": "A cryptographic signature that can be validated with AttestRequest."
          }
        ],
        "description": "The response from the AttestByAccountRequest, if true can include a Attestation for the caller to use in subsequent attestation checks."
      }
    },
    {
      "id": "c573dc98-d669-4e24-a06d-70a7c1d29078",
      "name": "Vest",
      "description": "A request to validate a rule or attestation.",
      "request": {
        "controlMessageName": "VestRequest",
        "description": "The request to Attest by an account id.",
        "inputParameters": [
          {
            "name": "AccountId",
            "valueDescription": "The Id of the account to validate."
          }
        ]
      },
      "response": {
        "controlMessageName": "VestResponse",
        "outputParameters": [
          {
            "name": "Confirmation",
            "valueDescription": "A true or false result"
          },
          {
            "name": "Attestation",
            "valueDescription": "A cryptographic signature that can be validated with AttestRequest."
          }
        ],
        "description": "The response from the AttestByAccountRequest, if true can include a Attestation for the caller to use in subsequent attestation checks."
      }
    }
  ],
  "properties": [
    {
      "name":"GrantId",
      "valueDescription":"A unique identifier for the grant, this is created when the token is created and can be a GUID/UUID or a DID."
    },
    {
      "name": "Name",
      "valueDescription": "Name of the grant",
      "templateValue":""
    },
    {
      "name":"AccountId",
      "valueDescription": "This is the accountId of the grantee or receiver.",
      "templateValue":""
    },
    {
      "name":"GrantUpperAmount",
      "valueDescription": "Numerical value for the maximum number of tokens that could be granted.",
      "templateValue": ""
    },    
    {
      "name":"GrantLowerAmount",
      "valueDescription": "Numerical value for the minimum number of tokens that could be granted, could be a negative number",
      "templateValue":""
    },
    {
      "name": "VestingSchedule",
      "valueDescription": "A group or list of dates after which vesting is possible.",
      "templateValue": "",
      "properties":[
        {
          "name":"VestSchedule",
          "valueDescription":"A repeated, if multiple vest dates, for the grant to vest. If there are multiple vest dates, the total grant distribution will be split evenly across all the dates until 100% of the grant is vested. For example, if there are 4 vest dates in the schedule for a grant of 100 each vest will disperse 25%.",
          "properties":[
              {
                "name": "GrantId",
                "valueDescription": "Link to the grantId that the VestScheule belongs to."
              },
              {
                "name": "VestingDate",
                "valueDescription": "A date when after the vest event is viable. The vest can occur on or after this date."
              }
          ]
        }
      ],
      "propertyInvocations": [
        {
          "id": "b8261628-81c6-427c-9db8-596cd34a06bd",
          "name": "GetVestSchedule",
          "description": "Request the the list of vesting dates for the grant.",
          "request": {
          "controlMessageName": "GetVestScheduleRequest",
            "inputParameters": [
              {
                "name": "GrantId",
                "valueDescription": "Unique identifier for the grant if it is not a stand alone grant but one of many in a group."
              }
            ],
            "description": "If the grant is non-fungible or not a part of a group of grants, this is optional."
          },
          "response": {
          "controlMessageName": "GetVestScheduleResponse",
            "outputParameters": [
              {
                "name": "Vests",
                "valueDescription": "Returning the list of dates in the vesting schedule."
              }
            ],
            "description": "The response"
          }
        }
      ]
    },
    {
      "name": "Dispersements",
      "valueDescription": "A group or list of dispersements, see proto description of a disbersement, representing each account to disperse as well as the percentage of the total vest the dispersement should be.",
      "templateValue": "",
      "properties":[
        {
          "name": "Disbersement",
          "valueDescription": "A dispersement percentage for the vest for an account, if there are multiple accounts receiving the dispersement from the vest, list each account with the percentage that sum to 100% of the current vest. If the current vest is one of 4 vests where each vest is 25%, the dispersement percentage will be 100% of the 25% of the grant for the current vest.",
          "properties":[
            {
              "name": "GrantId",
              "valueDescription": "If there are multiple grants in the grant, this is coorilating data."
            },
            {
              "name": "AccountId",
              "valueDescription": "The accountId to disperse to."
            },
            {
              "name": "Percentage",
              "valueDescription": "A numeric, integer value, from 0-100 representing the percentage of the vest this dispersement should be."
            }
          ]
        }
      ],
      "propertyInvocations": [
        {
          "id": "df87d62d-51e9-4aeb-91e1-1e20afc47ebe",
          "name": "GetDispersements",
          "description": "Request the the list of dispersements for the grant.",
          "request": {
            "controlMessageName": "GetDispersementsRequest",
              "inputParameters": [
                {
                  "name": "GrantId",
                  "valueDescription": "Unique identifier for the grant if it is not a stand alone grant but one of many in a group."
                }
              ],
              "description": "If the grant is non-fungible or not a part of a group of grants, this is optional."
            },
          "response": {
          "controlMessageName": "GetDispersementsResponse",
            "outputParameters": [
              {
                "name": "Vests",
                "valueDescription": "Returning the list of dates in the vesting schedule."
              }
            ],
            "description": "The response"
          }
        },
        {
          "id": "1ef07f60-ab69-4809-acde-17b06ffd965e",
          "name": "AddDispersement",
          "description": "Request an update to an existing dispersement for vesting.",
          "request": {
            "controlMessageName": "AddDispersementRequest",
              "inputParameters": [
                {
                  "name": "Disbersement",
                  "valueDescription": "New disbersement, make sure the GrantId is set."
                }
              ],
              "description": ""
          },
          "response": {
            "controlMessageName": "AddDispersementResponse",
              "outputParameters": [
                {
                  "name": "Vests",
                  "valueDescription": "Returning the list of dates in the vesting schedule."
                }
              ],
              "description": "The response"
          }
        },
        {
          "id": "af389eeb-67f3-41bc-b2a3-55066bf20473",
          "name": "UpdateDispersement",
          "description": "Request an update to an existing dispersement for vesting.",
          "request": {
          "controlMessageName": "UpdateDispersementRequest",
            "inputParameters": [
              {
                "name": "Dispersement to Update, modified from GetDispersement.",
                "valueDescription": "Unique identifier for the grant if it is not a stand alone grant but one of many in a group."
              }
            ],
            "description": ""
          },
          "response": {
          "controlMessageName": "UpdateDispersementResponse",
            "outputParameters": [
              {
                "name": "Confirmation",
                "valueDescription": "Returning a confirmation of the update."
              }
            ],
            "description": "The response"
          }
        }
      ]
    }
  ]
}