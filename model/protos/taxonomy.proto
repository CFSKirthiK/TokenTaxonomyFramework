syntax = "proto3";

package taxonomy.model;
import "core.proto";
import "artifact.proto";
option csharp_namespace = "TTI.TTF.Taxonomy.Model";
option java_package = "org.tti.ttf.taxonomy.model";
option java_multiple_files = true;

//each collection defined in a map with the index being the symbol of the artifact for the collection.
message Taxonomy{
    TaxonomyVersion version = 1;
    map<string, taxonomy.model.core.Base> base_token_types = 2;
    map<string, taxonomy.model.core.Behavior> behaviors = 3;
    map<string, taxonomy.model.core.BehaviorGroup> behavior_groups = 4;
    map<string, taxonomy.model.core.PropertySet> property_sets = 5;
    taxonomy.model.core.TokenTemplateHierarchy token_templates = 6;
    map<string, taxonomy.model.core.TokenDefinition> token_definitions = 7;
    taxonomy.model.artifact.FormulaGrammar formula_grammar = 8;
}

message TaxonomyVersion{
    string id = 1;
    string version = 2;
}

message Hierarchy{
    repeated HierarchyBranch singles = 1;
    HybridBranch hybrids = 2;
}

message HierarchyBranch {
    taxonomy.model.artifact.ClassificationBranch branch = 1;
    string folder = 2;
}

message HybridBranch {
    string hybrid_parent_folder = 1;
    HierarchyBranch child_branch = 2;
}
